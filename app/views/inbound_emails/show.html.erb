<%= content_for(:breadcrumbs) do %>
  <%= link_to "Inboxes", inboxes_path %>
  <%= inline_svg_tag "icons/solid-chevron-right.svg", class: "h-4 inline" %>
  <%= link_to @inbox.name, [@inbox, :inbound_emails] %>
  <%= inline_svg_tag "icons/solid-chevron-right.svg", class: "h-4 inline" %>
  <%= link_to "##{@inbound_email.id}", inbox_inbound_email_path(@inbox, @inbound_email.id) %>
<% end %>

<div class="grid md:grid-cols-10 grid-cols-1 gap-1">
  <!-- Inboxes -->
  <div class="col-span-2">
    <p class="text-xs text-gray-300 mb-2">Inboxes</p>
    <%= turbo_frame_tag "inboxes", src: inboxes_path do %>
      <%= render "application/loader" %>
    <% end %>
  </div>

  <!-- Emails -->
  <div class="col-span-2">
    <p class="text-xs text-gray-300 mb-2">Emails</p>
    <%= turbo_frame_tag "inbound_emails", src: inbox_inbound_emails_path(@inbox) do %>
      <%= render "application/loader" %>
    <% end %>
  </div>

  <!-- Email body -->
  <div class="col-span-6">
    <p class="text-xs text-gray-300 mb-2">Email</p>
    <%= turbo_frame_tag "inbound_email" do %>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-2 p-2">
        <%= render "info", inbound_email: @inbound_email %>
      </div>

      <div class="grid md:grid-cols-3 grid-cols-1 gap-1">
        <%= render "attachments", inbox: @inbox, inbound_email: @inbound_email %>
      </div>

      <div class="">
        <%= render "inbound_email", inbound_email: @inbound_email, inbox: @inbox %>
      </div>
    <% end %>
  </div>
</div>
